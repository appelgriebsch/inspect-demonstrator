<div layout="column" layout-fill ng-init="ctl.initialize()">
  <centered ng-if="ctl.isBusy">
    <div layout="row" layout-align="space-around center">
      <h3>Uploading Files &amp; Folders...</h3>
      <md-progress-circular class="md-accent" md-mode="indeterminate"></md-progress-circular>
    </div>
  </centered>
  <md-grid-list md-cols-gt-md="8" md-cols-md="2" md-cols-sm="1"
                md-gutter-gt-sm="6px" md-gutter="12px"
                md-row-height-gt-md="1:1" md-row-height="4:3">
    <md-grid-tile md-colspan-sm="1" md-colspan="2" md-rowspan="1"
                  ng-repeat="file in ctl.files">
      <md-icon class="md-48" ng-if="file.info.type === 'folder'">folder</md-icon>
      <md-icon class="md-48" ng-if="file.info.type === 'file'">insert_drive_file</md-icon>
      <md-grid-tile-footer>
        <h3>
          <div class="filename">{{ file.name }}</div>
          <div class="fileinfo">{{ file.info.noOfFiles }} file(s) with {{ file.info.display_size.number }} {{ file.info.display_size.unit }}</div>
        </h3>
      </md-grid-tile-footer>
    </md-grid-tile>
  </md-grid-list>
  <md-whiteframe id="dropZone" layout layout-align="center center">
    <span>
      <input type="file" id="fileSelector" class="hidden" multiple="multiple"></input>
      <input type="file" id="folderSelector" class="hidden" webkitdirectory="" directory=""></input>
    <span>
        Drop your files and/or folders here... or click here
        <md-menu>
          <md-button class="md-icon-button" ng-click="$mdOpenMenu($event)">
            <md-icon md-menu-origin>add_circle_outline</md-icon>
          </md-button>
          <md-menu-content width="4">
            <md-menu-item>
              <md-button ng-click="ctl.selectFile()">
                <md-icon md-menu-align-target>insert_drive_file</md-icon>
                Add File
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="ctl.selectFolder()">
                <md-icon md-menu-align-target>folder</md-icon>
                Add Folder
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="ctl.downloadFile()">
                <md-icon md-menu-align-target>public</md-icon>
                Add URL
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
    </span>
  </md-whiteframe>
</div>
