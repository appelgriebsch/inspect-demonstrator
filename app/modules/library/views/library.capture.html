<div flex layout="column" layout-fill ng-init="ctl.initialize()">
  <centered ng-if="ctl.isBusy">
    <div layout="row" layout-align="space-around center">
      <h3>{{ ctl.statusMessage }}</h3>
      <md-progress-circular class="md-accent" md-mode="indeterminate"></md-progress-circular>
    </div>
  </centered>
  <div layout="row">
    <md-input-container layout-fill>
      <label>Website URL</label>
      <input type="url" id="url" ng-keypress="ctl.loadUrl($event)" autofocus="autofocus">
    </md-input-container>
    <span flex></span>
    <md-button class="md-icon-button" ng-click="ctl.loadUrl($event)">
      <md-icon>forward</md-icon>
    </md-button>
  </div>
  <img class="pagePrev"
       ns-popover
       ns-popover-template="siteMetadata"
       ns-popover-trigger="mousemove"
       ns-popover-placement="top"
       ns-popover-mouse-relative="xy"
       ns-popover-timeout="0.2"
       ns-popover-popup-delay="0.7"
       ns-popover-theme="ns-popover-tooltip-theme"
       ng-src="{{ ctl.capture.preview }}"></img>
</div>
<script type="text/ng-template" id="siteMetadata">
  <div class="triangle"></div>
  <div class="ns-popover-tooltip">
    <div ng-if="ctl.capture.author !== ''" layout="row" layout-fill>
      <h2>{{ ctl.capture.author }}</h2>
      <span flex></span>
      <small>{{ ctl.capture.publicationDate | date: 'short' }}</small>
    </div>
    <h3>{{ ctl.capture.title }}</h3>
    <p>{{ ctl.capture.description }}</p>
  </div>
</script>
