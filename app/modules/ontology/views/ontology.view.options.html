<md-content>
  <!-- Node Interactions -->
  <section>
    <md-subheader class="md-primary">Interactions</md-subheader>
    <div layout-padding>
      <span>Selected node(s):</span>
      <md-list class="md-dense" flex>
        <md-list-item ng-repeat="n in $ctrl.selectedNodes">
          <md-truncate>
            <md-tooltip>{{n.label}}</md-tooltip>
            {{n.label}}
          </md-truncate>
          <md-button class="md-secondary md-icon-button" ng-click="zoom({nodeId: n.id})"  aria-label="Zoom to node">
            <md-tooltip>Zoom to node</md-tooltip>
            <md-icon>my_location</md-icon>
          </md-button>
        </md-list-item>
      </md-list>
      <div layout="row" layout-align="left center" layout-wrap>
        <md-button class="md-icon-button md-mini md-primary" ng-click="$ctrl.onSetFocus()" ng-disabled="$ctrl.isDisabled('setFocus')" >
          <md-tooltip>Focus selected nodes</md-tooltip>
          <md-icon>center_focus_strong</md-icon>
        </md-button>
        <md-button class="md-icon-button md-mini md-primary" ng-click="$ctrl.releaseFocus()" ng-disabled="$ctrl.isDisabled('releaseFocus')" >
          <md-tooltip>Release focus</md-tooltip>
          <md-icon>center_focus_weak</md-icon>
        </md-button>
        <md-button class="md-icon-button md-mini md-primary" ng-click="$ctrl.onHideNodes()" ng-disabled="$ctrl.isDisabled('hideNodes')">
          <md-tooltip>Hide selected nodes</md-tooltip>
          <md-icon>visibility_off</md-icon>
        </md-button>
        <div class="badge">
          <md-button class="md-icon-button md-mini md-primary" ng-click="$ctrl.onShowNodes()" ng-disabled="$ctrl.isDisabled('showNodes')">
            <md-tooltip>Show hidden node</md-tooltip>
            <md-icon>visibility</md-icon>
          </md-button>
          <span class="badge-label">{{$ctrl.hiddenNodesStackSize}}</span>
        </div>
      </div>
      <div>
        <span>Neighbors:</span>
        <md-slider class="md-primary" flex md-discrete ng-model="$ctrl.depth" step="1" min="0" max="3" aria-label="Show node neighborhood" ng-disabled="$ctrl.isDisabled('showNeighbors')" ng-change="$ctrl.onShowNeighbours({depth: $ctrl.depth})">
        </md-slider>
      </div>
      <md-button class="md-raised  md-primary"  ng-click="$ctrl.onReset()" ng-disabled="$ctrl.isDisabled('resetGraph')" layout-fill>
        <md-tooltip>Reset graph. This will reset all changes.</md-tooltip>
        <md-icon>replay</md-icon>
        Reset
      </md-button>
    </div>
  </section>
  <!-- Filters -->
  <section>
    <md-subheader class="md-primary">Filters</md-subheader>
    <md-list class="md-dense" flex>
      <md-list-item  ng-repeat="f in $ctrl.filters">
        <p>{{f.name}}</p>
        <md-button  class="md-secondary md-icon-button"  ng-click="$ctrl.showDialog($event, f.id)" aria-label="Pick a color" ng-show="f.hasColor" >
          <md-tooltip >Choose a color</md-tooltip>
          <md-icon ng-style="{'color': f.color}" >adjust</md-icon>
        </md-button>
        <md-checkbox class="md-secondary md-primary" ng-model="f.enabled" ng-change="$ctrl.onFilterChanged({id: f.id, color: f.color, enabled: f.enabled})">
          <md-tooltip>Show/Hide nodes</md-tooltip>
        </md-checkbox>
      </md-list-item>
    </md-list>
  </section>
</md-content>

<!-- color picker dialog -->
<script type="text/ng-template" id="color.picker.dialog.html">
  <md-dialog  flex="50">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Pick a color...</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          <md-icon>close</md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content >
      <div class="md-dialog-content"  >
        <div layout="row" layout-wrap layout-align="center center">
          <md-button ng-repeat="color in palette" flex="5"
                     ng-style="{'background-color': color}" md-colors-watch="false"
                     ng-click="selectColor(color)" aria-label="color">
          </md-button>
        </div>
      </div>
    </md-dialog-content>

    <md-dialog-actions layout="row">
      <md-button ng-click="cancel()">
        Cancel
      </md-button>
    </md-dialog-actions>
  </md-dialog>
</script>
